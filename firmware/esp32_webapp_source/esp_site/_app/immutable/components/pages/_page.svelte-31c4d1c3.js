import{S as Yt,i as $t,s as en,k as O,q as U,a as me,l as w,m as R,r as B,h as x,c as ye,n as N,I as ct,b as tn,G as o,J as ze,K as je,L as Ae,M as Qe,B as Kt,N as nn,O as ft,P as rn}from"../../chunks/index-2e8f8989.js";var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xt={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(M,ee){(function(G,y){M.exports=y()})(Qt,function G(){var y=typeof self<"u"?self:typeof window<"u"?window:y!==void 0?y:{},V=!y.document&&!!y.postMessage,pe=V&&/blob:/i.test((y.location||{}).protocol),ie={},ue=0,d={parse:function(t,e){var n=(e=e||{}).dynamicTyping||!1;if(_(n)&&(e.dynamicTypingFunction=n,n={}),e.dynamicTyping=n,e.transform=!!_(e.transform)&&e.transform,e.worker&&d.WORKERS_SUPPORTED){var a=function(){if(!d.WORKERS_SUPPORTED)return!1;var h=(F=y.URL||y.webkitURL||null,j=G.toString(),d.BLOB_URL||(d.BLOB_URL=F.createObjectURL(new Blob(["(",j,")();"],{type:"text/javascript"})))),m=new y.Worker(h),F,j;return m.onmessage=L,m.id=ue++,ie[m.id]=m}();return a.userStep=e.step,a.userChunk=e.chunk,a.userComplete=e.complete,a.userError=e.error,e.step=_(e.step),e.chunk=_(e.chunk),e.complete=_(e.complete),e.error=_(e.error),delete e.worker,void a.postMessage({input:t,config:e,workerId:a.id})}var l=null;return d.NODE_STREAM_INPUT,typeof t=="string"?l=e.download?new _e(e):new r(e):t.readable===!0&&_(t.read)&&_(t.on)?l=new s(e):(y.File&&t instanceof File||t instanceof Object)&&(l=new k(e)),l.stream(t)},unparse:function(t,e){var n=!1,a=!0,l=",",h=`\r
`,m='"',F=m+m,j=!1,f=null,H=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||d.BAD_DELIMITERS.filter(function(u){return e.delimiter.indexOf(u)!==-1}).length||(l=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(n=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(j=e.skipEmptyLines),typeof e.newline=="string"&&(h=e.newline),typeof e.quoteChar=="string"&&(m=e.quoteChar),typeof e.header=="boolean"&&(a=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");f=e.columns}e.escapeChar!==void 0&&(F=e.escapeChar+m),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(H=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var g=new RegExp(p(m),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return ge(null,t,j);if(typeof t[0]=="object")return ge(f||Object.keys(t[0]),t,j)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||f),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),ge(t.fields||[],t.data||[],j);throw new Error("Unable to serialize unrecognized input");function ge(u,K,te){var Z="";typeof u=="string"&&(u=JSON.parse(u)),typeof K=="string"&&(K=JSON.parse(K));var Y=Array.isArray(u)&&0<u.length,re=!Array.isArray(K[0]);if(Y&&a){for(var Q=0;Q<u.length;Q++)0<Q&&(Z+=l),Z+=D(u[Q],Q);0<K.length&&(Z+=h)}for(var v=0;v<K.length;v++){var P=Y?u.length:K[v].length,W=!1,q=Y?Object.keys(K[v]).length===0:K[v].length===0;if(te&&!Y&&(W=te==="greedy"?K[v].join("").trim()==="":K[v].length===1&&K[v][0].length===0),te==="greedy"&&Y){for(var S=[],A=0;A<P;A++){var $=re?u[A]:A;S.push(K[v][$])}W=S.join("").trim()===""}if(!W){for(var b=0;b<P;b++){0<b&&!q&&(Z+=l);var ce=Y&&re?u[b]:b;Z+=D(K[v][ce],b)}v<K.length-1&&(!te||0<P&&!q)&&(Z+=h)}}return Z}function D(u,K){if(u==null)return"";if(u.constructor===Date)return JSON.stringify(u).slice(1,25);var te=!1;H&&typeof u=="string"&&H.test(u)&&(u="'"+u,te=!0);var Z=u.toString().replace(g,F);return(te=te||n===!0||typeof n=="function"&&n(u,K)||Array.isArray(n)&&n[K]||function(Y,re){for(var Q=0;Q<re.length;Q++)if(-1<Y.indexOf(re[Q]))return!0;return!1}(Z,d.BAD_DELIMITERS)||-1<Z.indexOf(l)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?m+Z+m:Z}}};if(d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!V&&!!y.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=c,d.ParserHandle=i,d.NetworkStreamer=_e,d.FileStreamer=k,d.StringStreamer=r,d.ReadableStreamStreamer=s,y.jQuery){var I=y.jQuery;I.fn.parse=function(t){var e=t.config||{},n=[];return this.each(function(h){if(!(I(this).prop("tagName").toUpperCase()==="INPUT"&&I(this).attr("type").toLowerCase()==="file"&&y.FileReader)||!this.files||this.files.length===0)return!0;for(var m=0;m<this.files.length;m++)n.push({file:this.files[m],inputElem:this,instanceConfig:I.extend({},e)})}),a(),this;function a(){if(n.length!==0){var h,m,F,j,f=n[0];if(_(t.before)){var H=t.before(f.file,f.inputElem);if(typeof H=="object"){if(H.action==="abort")return h="AbortError",m=f.file,F=f.inputElem,j=H.reason,void(_(t.error)&&t.error({name:h},m,F,j));if(H.action==="skip")return void l();typeof H.config=="object"&&(f.instanceConfig=I.extend(f.instanceConfig,H.config))}else if(H==="skip")return void l()}var g=f.instanceConfig.complete;f.instanceConfig.complete=function(ge){_(g)&&g(ge,f.file,f.inputElem),l()},d.parse(f.file,f.instanceConfig)}else _(t.complete)&&t.complete()}function l(){n.splice(0,1),a()}}}function X(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var n=T(e);n.chunkSize=parseInt(n.chunkSize),e.step||e.chunk||(n.chunkSize=null),this._handle=new i(n),(this._handle.streamer=this)._config=n}.call(this,t),this.parseChunk=function(e,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);a!==void 0&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var l=this._partialLine+e;this._partialLine="";var h=this._handle.parse(l,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var m=h.meta.cursor;this._finished||(this._partialLine=l.substring(m-this._baseIndex),this._baseIndex=m),h&&h.data&&(this._rowCount+=h.data.length);var F=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(pe)y.postMessage({results:h,workerId:d.WORKER_ID,finished:F});else if(_(this._config.chunk)&&!n){if(this._config.chunk(h,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);h=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(h.data),this._completeResults.errors=this._completeResults.errors.concat(h.errors),this._completeResults.meta=h.meta),this._completed||!F||!_(this._config.complete)||h&&h.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||h&&h.meta.paused||this._nextChunk(),h}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):pe&&this._config.error&&y.postMessage({workerId:d.WORKER_ID,error:e,finished:!1})}}function _e(t){var e;(t=t||{}).chunkSize||(t.chunkSize=d.RemoteChunkSize),X.call(this,t),this._nextChunk=V?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(n){this._input=n,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),V||(e.onload=C(this._chunkLoaded,this),e.onerror=C(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!V),this._config.downloadRequestHeaders){var n=this._config.downloadRequestHeaders;for(var a in n)e.setRequestHeader(a,n[a])}if(this._config.chunkSize){var l=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+l)}try{e.send(this._config.downloadRequestBody)}catch(h){this._chunkError(h.message)}V&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(n){var a=n.getResponseHeader("Content-Range");return a===null?-1:parseInt(a.substring(a.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(n){var a=e.statusText||n;this._sendError(new Error(a))}}function k(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=d.LocalChunkSize),X.call(this,t);var a=typeof FileReader<"u";this.stream=function(l){this._input=l,n=l.slice||l.webkitSlice||l.mozSlice,a?((e=new FileReader).onload=C(this._chunkLoaded,this),e.onerror=C(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var l=this._input;if(this._config.chunkSize){var h=Math.min(this._start+this._config.chunkSize,this._input.size);l=n.call(l,this._start,h)}var m=e.readAsText(l,this._config.encoding);a||this._chunkLoaded({target:{result:m}})},this._chunkLoaded=function(l){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(l.target.result)},this._chunkError=function(){this._sendError(e.error)}}function r(t){var e;X.call(this,t=t||{}),this.stream=function(n){return e=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n,a=this._config.chunkSize;return a?(n=e.substring(0,a),e=e.substring(a)):(n=e,e=""),this._finished=!e,this.parseChunk(n)}}}function s(t){X.call(this,t=t||{});var e=[],n=!0,a=!1;this.pause=function(){X.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){X.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(l){this._input=l,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){a&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=C(function(l){try{e.push(typeof l=="string"?l:l.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(h){this._streamError(h)}},this),this._streamError=C(function(l){this._streamCleanUp(),this._sendError(l)},this),this._streamEnd=C(function(){this._streamCleanUp(),a=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function i(t){var e,n,a,l=Math.pow(2,53),h=-l,m=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,j=this,f=0,H=0,g=!1,ge=!1,D=[],u={data:[],errors:[],meta:{}};if(_(t.step)){var K=t.step;t.step=function(v){if(u=v,Y())Z();else{if(Z(),u.data.length===0)return;f+=v.data.length,t.preview&&f>t.preview?n.abort():(u.data=u.data[0],K(u,j))}}}function te(v){return t.skipEmptyLines==="greedy"?v.join("").trim()==="":v.length===1&&v[0].length===0}function Z(){return u&&a&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),a=!1),t.skipEmptyLines&&(u.data=u.data.filter(function(v){return!te(v)})),Y()&&function(){if(!u)return;function v(W,q){_(t.transformHeader)&&(W=t.transformHeader(W,q)),D.push(W)}if(Array.isArray(u.data[0])){for(var P=0;Y()&&P<u.data.length;P++)u.data[P].forEach(v);u.data.splice(0,1)}else u.data.forEach(v)}(),function(){if(!u||!t.header&&!t.dynamicTyping&&!t.transform)return u;function v(W,q){var S,A=t.header?{}:[];for(S=0;S<W.length;S++){var $=S,b=W[S];t.header&&($=S>=D.length?"__parsed_extra":D[S]),t.transform&&(b=t.transform(b,$)),b=re($,b),$==="__parsed_extra"?(A[$]=A[$]||[],A[$].push(b)):A[$]=b}return t.header&&(S>D.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+S,H+q):S<D.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+S,H+q)),A}var P=1;return!u.data.length||Array.isArray(u.data[0])?(u.data=u.data.map(v),P=u.data.length):u.data=v(u.data,0),t.header&&u.meta&&(u.meta.fields=D),H+=P,u}()}function Y(){return t.header&&D.length===0}function re(v,P){return W=v,t.dynamicTypingFunction&&t.dynamicTyping[W]===void 0&&(t.dynamicTyping[W]=t.dynamicTypingFunction(W)),(t.dynamicTyping[W]||t.dynamicTyping)===!0?P==="true"||P==="TRUE"||P!=="false"&&P!=="FALSE"&&(function(q){if(m.test(q)){var S=parseFloat(q);if(h<S&&S<l)return!0}return!1}(P)?parseFloat(P):F.test(P)?new Date(P):P===""?null:P):P;var W}function Q(v,P,W,q){var S={type:v,code:P,message:W};q!==void 0&&(S.row=q),u.errors.push(S)}this.parse=function(v,P,W){var q=t.quoteChar||'"';if(t.newline||(t.newline=function($,b){$=$.substring(0,1048576);var ce=new RegExp(p(b)+"([^]*?)"+p(b),"gm"),le=($=$.replace(ce,"")).split("\r"),he=$.split(`
`),Ce=1<he.length&&he[0].length<le[0].length;if(le.length===1||Ce)return`
`;for(var J=0,oe=0;oe<le.length;oe++)le[oe][0]===`
`&&J++;return J>=le.length/2?`\r
`:"\r"}(v,q)),a=!1,t.delimiter)_(t.delimiter)&&(t.delimiter=t.delimiter(v),u.meta.delimiter=t.delimiter);else{var S=function($,b,ce,le,he){var Ce,J,oe,se;he=he||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var fe=0;fe<he.length;fe++){var ae=he[fe],de=0,be=0,we=0;oe=void 0;for(var Ie=new c({comments:le,delimiter:ae,newline:b,preview:10}).parse($),Ee=0;Ee<Ie.data.length;Ee++)if(ce&&te(Ie.data[Ee]))we++;else{var xe=Ie.data[Ee].length;be+=xe,oe!==void 0?0<xe&&(de+=Math.abs(xe-oe),oe=xe):oe=xe}0<Ie.data.length&&(be/=Ie.data.length-we),(J===void 0||de<=J)&&(se===void 0||se<be)&&1.99<be&&(J=de,Ce=ae,se=be)}return{successful:!!(t.delimiter=Ce),bestDelimiter:Ce}}(v,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);S.successful?t.delimiter=S.bestDelimiter:(a=!0,t.delimiter=d.DefaultDelimiter),u.meta.delimiter=t.delimiter}var A=T(t);return t.preview&&t.header&&A.preview++,e=v,n=new c(A),u=n.parse(e,P,W),Z(),g?{meta:{paused:!0}}:u||{meta:{paused:!1}}},this.paused=function(){return g},this.pause=function(){g=!0,n.abort(),e=_(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){j.streamer._halted?(g=!1,j.streamer.parseChunk(e,!0)):setTimeout(j.resume,3)},this.aborted=function(){return ge},this.abort=function(){ge=!0,n.abort(),u.meta.aborted=!0,_(t.complete)&&t.complete(u),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(t){var e,n=(t=t||{}).delimiter,a=t.newline,l=t.comments,h=t.step,m=t.preview,F=t.fastMode,j=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(j=t.escapeChar),(typeof n!="string"||-1<d.BAD_DELIMITERS.indexOf(n))&&(n=","),l===n)throw new Error("Comment character same as delimiter");l===!0?l="#":(typeof l!="string"||-1<d.BAD_DELIMITERS.indexOf(l))&&(l=!1),a!==`
`&&a!=="\r"&&a!==`\r
`&&(a=`
`);var f=0,H=!1;this.parse=function(g,ge,D){if(typeof g!="string")throw new Error("Input must be a string");var u=g.length,K=n.length,te=a.length,Z=l.length,Y=_(h),re=[],Q=[],v=[],P=f=0;if(!g)return se();if(F||F!==!1&&g.indexOf(e)===-1){for(var W=g.split(a),q=0;q<W.length;q++){if(v=W[q],f+=v.length,q!==W.length-1)f+=a.length;else if(D)return se();if(!l||v.substring(0,Z)!==l){if(Y){if(re=[],he(v.split(n)),fe(),H)return se()}else he(v.split(n));if(m&&m<=q)return re=re.slice(0,m),se(!0)}}return se()}for(var S=g.indexOf(n,f),A=g.indexOf(a,f),$=new RegExp(p(j)+p(e),"g"),b=g.indexOf(e,f);;)if(g[f]!==e)if(l&&v.length===0&&g.substring(f,f+Z)===l){if(A===-1)return se();f=A+te,A=g.indexOf(a,f),S=g.indexOf(n,f)}else if(S!==-1&&(S<A||A===-1))v.push(g.substring(f,S)),f=S+K,S=g.indexOf(n,f);else{if(A===-1)break;if(v.push(g.substring(f,A)),oe(A+te),Y&&(fe(),H))return se();if(m&&re.length>=m)return se(!0)}else for(b=f,f++;;){if((b=g.indexOf(e,b+1))===-1)return D||Q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:f}),J();if(b===u-1)return J(g.substring(f,b).replace($,e));if(e!==j||g[b+1]!==j){if(e===j||b===0||g[b-1]!==j){S!==-1&&S<b+1&&(S=g.indexOf(n,b+1)),A!==-1&&A<b+1&&(A=g.indexOf(a,b+1));var ce=Ce(A===-1?S:Math.min(S,A));if(g.substr(b+1+ce,K)===n){v.push(g.substring(f,b).replace($,e)),g[f=b+1+ce+K]!==e&&(b=g.indexOf(e,f)),S=g.indexOf(n,f),A=g.indexOf(a,f);break}var le=Ce(A);if(g.substring(b+1+le,b+1+le+te)===a){if(v.push(g.substring(f,b).replace($,e)),oe(b+1+le+te),S=g.indexOf(n,f),b=g.indexOf(e,f),Y&&(fe(),H))return se();if(m&&re.length>=m)return se(!0);break}Q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:f}),b++}}else b++}return J();function he(ae){re.push(ae),P=f}function Ce(ae){var de=0;if(ae!==-1){var be=g.substring(b+1,ae);be&&be.trim()===""&&(de=be.length)}return de}function J(ae){return D||(ae===void 0&&(ae=g.substring(f)),v.push(ae),f=u,he(v),Y&&fe()),se()}function oe(ae){f=ae,he(v),v=[],A=g.indexOf(a,f)}function se(ae){return{data:re,errors:Q,meta:{delimiter:n,linebreak:a,aborted:H,truncated:!!ae,cursor:P+(ge||0)}}}function fe(){h(se()),re=[],Q=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return f}}function L(t){var e=t.data,n=ie[e.workerId],a=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var l={abort:function(){a=!0,z(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(_(n.userStep)){for(var h=0;h<e.results.data.length&&(n.userStep({data:e.results.data[h],errors:e.results.errors,meta:e.results.meta},l),!a);h++);delete e.results}else _(n.userChunk)&&(n.userChunk(e.results,l,e.file),delete e.results)}e.finished&&!a&&z(e.workerId,e.results)}function z(t,e){var n=ie[t];_(n.userComplete)&&n.userComplete(e),n.terminate(),delete ie[t]}function E(){throw new Error("Not implemented.")}function T(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=T(t[n]);return e}function C(t,e){return function(){t.apply(e,arguments)}}function _(t){return typeof t=="function"}return pe&&(y.onmessage=function(t){var e=t.data;if(d.WORKER_ID===void 0&&e&&(d.WORKER_ID=e.workerId),typeof e.input=="string")y.postMessage({workerId:d.WORKER_ID,results:d.parse(e.input,e.config),finished:!0});else if(y.File&&e.input instanceof File||e.input instanceof Object){var n=d.parse(e.input,e.config);n&&y.postMessage({workerId:d.WORKER_ID,results:n,finished:!0})}}),(_e.prototype=Object.create(X.prototype)).constructor=_e,(k.prototype=Object.create(X.prototype)).constructor=k,(r.prototype=Object.create(r.prototype)).constructor=r,(s.prototype=Object.create(X.prototype)).constructor=s,d})})(Xt);const Wt=Xt.exports;var Zt={exports:{}};(function(M,ee){(function(G,y){y(M)})(Qt,function(G){function y(k,r,s){return r in k?Object.defineProperty(k,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):k[r]=s,k}var V=Object.assign||function(k){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(k[i]=s[i])}return k};function pe(k){if(Array.isArray(k)){for(var r=0,s=Array(k.length);r<k.length;r++)s[r]=k[r];return s}else return Array.from(k)}var ie={order:2,precision:2,period:null};function ue(k,r){var s=[],i=[];k.forEach(function(E,T){E[1]!==null&&(i.push(E),s.push(r[T]))});var p=i.reduce(function(E,T){return E+T[1]},0),c=p/i.length,L=i.reduce(function(E,T){var C=T[1]-c;return E+C*C},0),z=i.reduce(function(E,T,C){var _=s[C],t=T[1]-_[1];return E+t*t},0);return 1-z/L}function d(k,r){for(var s=k,i=k.length-1,p=[r],c=0;c<i;c++){for(var L=c,z=c+1;z<i;z++)Math.abs(s[c][z])>Math.abs(s[c][L])&&(L=z);for(var E=c;E<i+1;E++){var T=s[E][c];s[E][c]=s[E][L],s[E][L]=T}for(var C=c+1;C<i;C++)for(var _=i;_>=c;_--)s[_][C]-=s[_][c]*s[c][C]/s[c][c]}for(var t=i-1;t>=0;t--){for(var e=0,n=t+1;n<i;n++)e+=s[n][t]*p[n];p[t]=(s[i][t]-e)/s[t][t]}return p}function I(k,r){var s=Math.pow(10,r);return Math.round(k*s)/s}var X={linear:function(r,s){for(var i=[0,0,0,0,0],p=0,c=0;c<r.length;c++)r[c][1]!==null&&(p++,i[0]+=r[c][0],i[1]+=r[c][1],i[2]+=r[c][0]*r[c][0],i[3]+=r[c][0]*r[c][1],i[4]+=r[c][1]*r[c][1]);var L=p*i[2]-i[0]*i[0],z=p*i[3]-i[0]*i[1],E=L===0?0:I(z/L,s.precision),T=I(i[1]/p-E*i[0]/p,s.precision),C=function(e){return[I(e,s.precision),I(E*e+T,s.precision)]},_=r.map(function(t){return C(t[0])});return{points:_,predict:C,equation:[E,T],r2:I(ue(r,_),s.precision),string:T===0?"y = "+E+"x":"y = "+E+"x + "+T}},exponential:function(r,s){for(var i=[0,0,0,0,0,0],p=0;p<r.length;p++)r[p][1]!==null&&(i[0]+=r[p][0],i[1]+=r[p][1],i[2]+=r[p][0]*r[p][0]*r[p][1],i[3]+=r[p][1]*Math.log(r[p][1]),i[4]+=r[p][0]*r[p][1]*Math.log(r[p][1]),i[5]+=r[p][0]*r[p][1]);var c=i[1]*i[2]-i[5]*i[5],L=Math.exp((i[2]*i[3]-i[5]*i[4])/c),z=(i[1]*i[4]-i[5]*i[3])/c,E=I(L,s.precision),T=I(z,s.precision),C=function(e){return[I(e,s.precision),I(E*Math.exp(T*e),s.precision)]},_=r.map(function(t){return C(t[0])});return{points:_,predict:C,equation:[E,T],string:"y = "+E+"e^("+T+"x)",r2:I(ue(r,_),s.precision)}},logarithmic:function(r,s){for(var i=[0,0,0,0],p=r.length,c=0;c<p;c++)r[c][1]!==null&&(i[0]+=Math.log(r[c][0]),i[1]+=r[c][1]*Math.log(r[c][0]),i[2]+=r[c][1],i[3]+=Math.pow(Math.log(r[c][0]),2));var L=(p*i[1]-i[2]*i[0])/(p*i[3]-i[0]*i[0]),z=I(L,s.precision),E=I((i[2]-z*i[0])/p,s.precision),T=function(t){return[I(t,s.precision),I(I(E+z*Math.log(t),s.precision),s.precision)]},C=r.map(function(_){return T(_[0])});return{points:C,predict:T,equation:[E,z],string:"y = "+E+" + "+z+" ln(x)",r2:I(ue(r,C),s.precision)}},power:function(r,s){for(var i=[0,0,0,0,0],p=r.length,c=0;c<p;c++)r[c][1]!==null&&(i[0]+=Math.log(r[c][0]),i[1]+=Math.log(r[c][1])*Math.log(r[c][0]),i[2]+=Math.log(r[c][1]),i[3]+=Math.pow(Math.log(r[c][0]),2));var L=(p*i[1]-i[0]*i[2])/(p*i[3]-Math.pow(i[0],2)),z=(i[2]-L*i[0])/p,E=I(Math.exp(z),s.precision),T=I(L,s.precision),C=function(e){return[I(e,s.precision),I(I(E*Math.pow(e,T),s.precision),s.precision)]},_=r.map(function(t){return C(t[0])});return{points:_,predict:C,equation:[E,T],string:"y = "+E+"x^"+T,r2:I(ue(r,_),s.precision)}},polynomial:function(r,s){for(var i=[],p=[],c=0,L=0,z=r.length,E=s.order+1,T=0;T<E;T++){for(var C=0;C<z;C++)r[C][1]!==null&&(c+=Math.pow(r[C][0],T)*r[C][1]);i.push(c),c=0;for(var _=[],t=0;t<E;t++){for(var e=0;e<z;e++)r[e][1]!==null&&(L+=Math.pow(r[e][0],T+t));_.push(L),L=0}p.push(_)}p.push(i);for(var n=d(p,E).map(function(F){return I(F,s.precision)}),a=function(j){return[I(j,s.precision),I(n.reduce(function(f,H,g){return f+H*Math.pow(j,g)},0),s.precision)]},l=r.map(function(F){return a(F[0])}),h="y = ",m=n.length-1;m>=0;m--)m>1?h+=n[m]+"x^"+m+" + ":m===1?h+=n[m]+"x + ":h+=n[m];return{string:h,points:l,predict:a,equation:[].concat(pe(n)).reverse(),r2:I(ue(r,l),s.precision)}}};function _e(){var k=function(s,i){return V({_round:I},s,y({},i,function(p,c){return X[i](p,V({},ie,c))}))};return Object.keys(X).reduce(k,{})}G.exports=_e()})})(Zt);const Jt=Zt.exports;function on(M){let ee,G,y,V,pe,ie,ue,d,I,X,_e,k,r,s,i,p,c,L,z,E,T,C,_,t,e,n,a,l,h,m,F,j,f,H,g,ge,D,u,K,te,Z,Y,re,Q,v,P,W,q,S,A,$,b,ce,le,he,Ce,J,oe,se,fe,ae,de,be,we,Ie,Ee,xe,Pe,Xe,De,Ze,Le,Ye,$e,Oe,Be,et,tt,ke,nt,qe,rt,it,Te,ot,Me,He,st,at,Ue,lt,ut,ht;return{c(){ee=O("div"),G=O("div"),y=O("select"),V=O("option"),pe=U("CH0"),ie=O("option"),ue=U("CH1"),d=O("option"),I=U("CH2"),X=O("option"),_e=U("CH3"),k=O("option"),r=U("CH4"),s=O("option"),i=U("CH5"),p=O("option"),c=U("CH6"),L=O("option"),z=U("CH7"),E=me(),T=O("div"),C=O("label"),_=U("Name"),t=me(),e=O("input"),n=me(),a=O("div"),l=O("label"),h=U("Upload csv"),m=me(),F=O("input"),j=me(),f=O("div"),H=O("label"),g=U("Unit"),ge=me(),D=O("select"),u=O("option"),K=U("Psi"),te=O("option"),Z=U("BAR"),Y=O("option"),re=U("Celsius"),Q=O("option"),v=U("Fahrenheit"),P=O("option"),W=U("Lambda"),q=O("option"),S=U("AFR"),A=O("option"),$=U("Voltage"),b=me(),ce=O("div"),le=O("label"),he=U("Display Option"),Ce=me(),J=O("select"),oe=O("option"),se=U("A"),fe=O("option"),ae=U("B"),de=O("option"),be=U("C"),we=O("option"),Ie=U("D"),Ee=O("option"),xe=U("E"),Pe=O("option"),Xe=U("F"),De=O("option"),Ze=U("G"),Le=O("option"),Ye=U("H"),$e=me(),Oe=O("div"),Be=O("label"),et=U("MAX"),tt=me(),ke=O("input"),nt=me(),qe=O("label"),rt=U("MIN"),it=me(),Te=O("input"),ot=me(),Me=O("div"),He=O("button"),st=U("Preview"),at=me(),Ue=O("button"),lt=U("Save"),this.h()},l(ve){ee=w(ve,"DIV",{class:!0});var ne=R(ee);G=w(ne,"DIV",{class:!0});var pt=R(G);y=w(pt,"SELECT",{class:!0});var Re=R(y);V=w(Re,"OPTION",{});var dt=R(V);pe=B(dt,"CH0"),dt.forEach(x),ie=w(Re,"OPTION",{});var vt=R(ie);ue=B(vt,"CH1"),vt.forEach(x),d=w(Re,"OPTION",{});var _t=R(d);I=B(_t,"CH2"),_t.forEach(x),X=w(Re,"OPTION",{});var gt=R(X);_e=B(gt,"CH3"),gt.forEach(x),k=w(Re,"OPTION",{});var mt=R(k);r=B(mt,"CH4"),mt.forEach(x),s=w(Re,"OPTION",{});var yt=R(s);i=B(yt,"CH5"),yt.forEach(x),p=w(Re,"OPTION",{});var bt=R(p);c=B(bt,"CH6"),bt.forEach(x),L=w(Re,"OPTION",{});var Et=R(L);z=B(Et,"CH7"),Et.forEach(x),Re.forEach(x),pt.forEach(x),E=ye(ne),T=w(ne,"DIV",{});var Ve=R(T);C=w(Ve,"LABEL",{class:!0,for:!0});var Ct=R(C);_=B(Ct,"Name"),Ct.forEach(x),t=ye(Ve),e=w(Ve,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Ve.forEach(x),n=ye(ne),a=w(ne,"DIV",{});var Ke=R(a);l=w(Ke,"LABEL",{class:!0});var Ot=R(l);h=B(Ot,"Upload csv"),Ot.forEach(x),m=ye(Ke),F=w(Ke,"INPUT",{class:!0,type:!0,accept:!0}),Ke.forEach(x),j=ye(ne),f=w(ne,"DIV",{});var We=R(f);H=w(We,"LABEL",{class:!0,for:!0});var wt=R(H);g=B(wt,"Unit"),wt.forEach(x),ge=ye(We),D=w(We,"SELECT",{id:!0,class:!0});var Ne=R(D);u=w(Ne,"OPTION",{});var kt=R(u);K=B(kt,"Psi"),kt.forEach(x),te=w(Ne,"OPTION",{});var Tt=R(te);Z=B(Tt,"BAR"),Tt.forEach(x),Y=w(Ne,"OPTION",{});var It=R(Y);re=B(It,"Celsius"),It.forEach(x),Q=w(Ne,"OPTION",{});var xt=R(Q);v=B(xt,"Fahrenheit"),xt.forEach(x),P=w(Ne,"OPTION",{});var Rt=R(P);W=B(Rt,"Lambda"),Rt.forEach(x),q=w(Ne,"OPTION",{});var St=R(q);S=B(St,"AFR"),St.forEach(x),A=w(Ne,"OPTION",{});var At=R(A);$=B(At,"Voltage"),At.forEach(x),Ne.forEach(x),We.forEach(x),b=ye(ne),ce=w(ne,"DIV",{class:!0});var Je=R(ce);le=w(Je,"LABEL",{class:!0});var Pt=R(le);he=B(Pt,"Display Option"),Pt.forEach(x),Ce=ye(Je),J=w(Je,"SELECT",{class:!0});var Se=R(J);oe=w(Se,"OPTION",{});var Dt=R(oe);se=B(Dt,"A"),Dt.forEach(x),fe=w(Se,"OPTION",{});var Lt=R(fe);ae=B(Lt,"B"),Lt.forEach(x),de=w(Se,"OPTION",{});var Mt=R(de);be=B(Mt,"C"),Mt.forEach(x),we=w(Se,"OPTION",{});var Nt=R(we);Ie=B(Nt,"D"),Nt.forEach(x),Ee=w(Se,"OPTION",{});var Ft=R(Ee);xe=B(Ft,"E"),Ft.forEach(x),Pe=w(Se,"OPTION",{});var Ht=R(Pe);Xe=B(Ht,"F"),Ht.forEach(x),De=w(Se,"OPTION",{});var Ut=R(De);Ze=B(Ut,"G"),Ut.forEach(x),Le=w(Se,"OPTION",{});var Bt=R(Le);Ye=B(Bt,"H"),Bt.forEach(x),Se.forEach(x),Je.forEach(x),$e=ye(ne),Oe=w(ne,"DIV",{class:!0});var Fe=R(Oe);Be=w(Fe,"LABEL",{class:!0});var qt=R(Be);et=B(qt,"MAX"),qt.forEach(x),tt=ye(Fe),ke=w(Fe,"INPUT",{type:!0,placeholder:!0,class:!0}),nt=ye(Fe),qe=w(Fe,"LABEL",{class:!0});var zt=R(qe);rt=B(zt,"MIN"),zt.forEach(x),it=ye(Fe),Te=w(Fe,"INPUT",{type:!0,placeholder:!0,class:!0}),Fe.forEach(x),ot=ye(ne),Me=w(ne,"DIV",{class:!0});var Ge=R(Me);He=w(Ge,"BUTTON",{class:!0});var jt=R(He);st=B(jt,"Preview"),jt.forEach(x),at=ye(Ge),Ue=w(Ge,"BUTTON",{class:!0});var Vt=R(Ue);lt=B(Vt,"Save"),Vt.forEach(x),Ge.forEach(x),ne.forEach(x),this.h()},h(){V.__value="CH0",V.value=V.__value,ie.__value="CH1",ie.value=ie.__value,d.__value="CH2",d.value=d.__value,X.__value="CH3",X.value=X.__value,k.__value="CH4",k.value=k.__value,s.__value="CH5",s.value=s.__value,p.__value="CH6",p.value=p.__value,L.__value="CH7",L.value=L.__value,N(y,"class","select select-bordered w-full max-w-xs"),M[0]===void 0&&ct(()=>M[12].call(y)),N(G,"class","mb-10 mt-5"),N(C,"class","ml-5"),N(C,"for","idname"),N(e,"id","idname"),N(e,"type","text"),N(e,"placeholder","Type here"),N(e,"class","flex input input-bordered w-full max-w-xs"),N(l,"class","ml-5"),N(F,"class","file-input file-input-bordered w-full max-w-xs flex"),N(F,"type","file"),N(F,"accept",".csv"),N(H,"class","ml-5"),N(H,"for","idunit"),u.__value="Psi",u.value=u.__value,te.__value="BAR",te.value=te.__value,Y.__value="Celsius",Y.value=Y.__value,Q.__value="Fahrenheit",Q.value=Q.__value,P.__value="Lambda",P.value=P.__value,q.__value="AFR",q.value=q.__value,A.__value="Voltage",A.value=A.__value,N(D,"id","idunit"),N(D,"class","select select-bordered w-full max-w-xs flex"),M[1]===void 0&&ct(()=>M[15].call(D)),N(le,"class","ml-5"),oe.__value="A",oe.value=oe.__value,fe.__value="B",fe.value=fe.__value,de.__value="C",de.value=de.__value,we.__value="D",we.value=we.__value,Ee.__value="E",Ee.value=Ee.__value,Pe.__value="F",Pe.value=Pe.__value,De.__value="G",De.value=De.__value,Le.__value="H",Le.value=Le.__value,N(J,"class","select select-bordered w-full max-w-xs flex"),M[2]===void 0&&ct(()=>M[16].call(J)),N(ce,"class","mt-10"),N(Be,"class","ml-5"),N(ke,"type","number"),N(ke,"placeholder","MAX"),N(ke,"class","input input-bordered w-50 max-w-xs flex"),N(qe,"class","ml-5"),N(Te,"type","number"),N(Te,"placeholder","MIN"),N(Te,"class","input input-bordered w-50 max-w-xs flex"),N(Oe,"class","mt-10"),N(He,"class","btn"),N(Ue,"class","btn"),N(Me,"class","content-center ml-10"),N(ee,"class","grid grid-cols-2 content-center mt-20 ml-20")},m(ve,ne){tn(ve,ee,ne),o(ee,G),o(G,y),o(y,V),o(V,pe),o(y,ie),o(ie,ue),o(y,d),o(d,I),o(y,X),o(X,_e),o(y,k),o(k,r),o(y,s),o(s,i),o(y,p),o(p,c),o(y,L),o(L,z),ze(y,M[0]),o(ee,E),o(ee,T),o(T,C),o(C,_),o(T,t),o(T,e),je(e,M[5]),o(ee,n),o(ee,a),o(a,l),o(l,h),o(a,m),o(a,F),M[14](F),o(ee,j),o(ee,f),o(f,H),o(H,g),o(f,ge),o(f,D),o(D,u),o(u,K),o(D,te),o(te,Z),o(D,Y),o(Y,re),o(D,Q),o(Q,v),o(D,P),o(P,W),o(D,q),o(q,S),o(D,A),o(A,$),ze(D,M[1]),o(ee,b),o(ee,ce),o(ce,le),o(le,he),o(ce,Ce),o(ce,J),o(J,oe),o(oe,se),o(J,fe),o(fe,ae),o(J,de),o(de,be),o(J,we),o(we,Ie),o(J,Ee),o(Ee,xe),o(J,Pe),o(Pe,Xe),o(J,De),o(De,Ze),o(J,Le),o(Le,Ye),ze(J,M[2]),o(ee,$e),o(ee,Oe),o(Oe,Be),o(Be,et),o(Oe,tt),o(Oe,ke),je(ke,M[3]),o(Oe,nt),o(Oe,qe),o(qe,rt),o(Oe,it),o(Oe,Te),je(Te,M[4]),o(ee,ot),o(ee,Me),o(Me,He),o(He,st),o(Me,at),o(Me,Ue),o(Ue,lt),ut||(ht=[Ae(y,"change",M[12]),Ae(e,"input",M[13]),Ae(F,"change",M[7]),Ae(D,"change",M[15]),Ae(J,"change",M[16]),Ae(ke,"input",M[17]),Ae(Te,"input",M[18]),Ae(He,"click",M[9]),Ae(Ue,"click",M[8])],ut=!0)},p(ve,[ne]){ne&1&&ze(y,ve[0]),ne&32&&e.value!==ve[5]&&je(e,ve[5]),ne&2&&ze(D,ve[1]),ne&4&&ze(J,ve[2]),ne&8&&Qe(ke.value)!==ve[3]&&je(ke,ve[3]),ne&16&&Qe(Te.value)!==ve[4]&&je(Te,ve[4])},i:Kt,o:Kt,d(ve){ve&&x(ee),M[14](null),ut=!1,nn(ht)}}}let Gt=3145728;function sn(M,ee,G){let y=[{id:0,channel:"CH0",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:1,channel:"CH1",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:2,channel:"CH2",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:3,channel:"CH3",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:4,channel:"CH4",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:5,channel:"CH5",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:6,channel:"CH6",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]},{id:7,channel:"CH7",unit:"",pos:"",name:"",max:0,min:0,coeff:[0,0,0,0]}],V="CH0",pe="Psi",ie="A",ue=0,d=0,I="",X=[],_e,{allowedFileExtensions:k=["csv"]}=ee,r;function s(e){const n=[];for(let h=0;h<e.length-1;h++)n.push([parseFloat(e[h][0]),parseFloat(e[h][1])]);const a=Jt.polynomial(n,{order:3});var l=y.find(function(h,m){if(h.channel==V)return m});V=="CH0"&&(l=y[0]),l.coeff[0]=a.equation[0],l.coeff[1]=a.equation[1],l.coeff[2]=a.equation[2],l.coeff[3]=a.equation[3],console.log(V),console.log(l),console.log(a.equation)}function i(e){e.preventDefault();const n=r.files[0],a=n.type.split("/"),l=a[a.length-1];if(n.size>Gt){console.log("Above the max file size threshold");return}l.includes("csv")&&n.size<Gt?Wt.parse(n,{complete:h=>{s?s(h.data):console.log("Remember to define an onUpload function as props. Parsed CSV:",h.data)}}):k.includes(l)?s?s(n):console.log("Remember to define an onUpload function as props. Plain file:",n):console.log("Not an allowed file type")}async function p(){var e=y.find(function(l,h){if(l.channel==V)return h});V=="CH0"&&(e=y[0]),console.log("value of filter obj",e),e.max=ue,e.min=d,e.name=I,e.pos=ie,e.unit=pe;const n=await fetch("/save",{method:"POST",body:JSON.stringify(e)}),a=await n.json();console.log(n),console.log(a)}async function c(){const n=await(await fetch("/preview",{method:"POST",body:V})).json();console.log(n),G(3,ue=n.max),G(4,d=n.min),G(5,I=n.name),G(2,ie=n.pos),G(1,pe=n.unit)}function L(){V=ft(this),G(0,V)}function z(){I=this.value,G(5,I)}function E(e){rn[e?"unshift":"push"](()=>{r=e,G(6,r)})}function T(){pe=ft(this),G(1,pe)}function C(){ie=ft(this),G(2,ie)}function _(){ue=Qe(this.value),G(3,ue)}function t(){d=Qe(this.value),G(4,d)}return M.$$set=e=>{"allowedFileExtensions"in e&&G(10,k=e.allowedFileExtensions)},M.$$.update=()=>{if(M.$$.dirty&2048&&X!==_e&&X.length!==0){G(11,_e=X);const e=Wt.unparse(X);Jt.polynomial(e,{order:3}),console.log("result"),s?s(e):console.log("Remember to define an onUpload function as props. CSV Data:",e)}},[V,pe,ie,ue,d,I,r,i,p,c,k,_e,L,z,E,T,C,_,t]}class ln extends Yt{constructor(ee){super(),$t(this,ee,sn,on,en,{allowedFileExtensions:10})}}export{ln as default};
